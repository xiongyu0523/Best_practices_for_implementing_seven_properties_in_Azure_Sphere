# 在Azure Sphere上实现高度安全物联网设备7个属性的最佳实践

## 目录
- [在Azure Sphere上实现高度安全物联网设备7个属性的最佳实践](#在azure-sphere上实现高度安全物联网设备7个属性的最佳实践)
  - [目录](#目录)
  - [译者声明](#译者声明)
  - [翻译的基本原则](#翻译的基本原则)
  - [概览](#概览)
  - [Azure Sphere 解决方案的背景](#azure-sphere-解决方案的背景)
  - [十九个IoT设备安全的最佳实践](#十九个iot设备安全的最佳实践)
    - [一. 将ROM代码视作系统里中不可更新部分并让它保持尽量简短](#一-将rom代码视作系统里中不可更新部分并让它保持尽量简短)
    - [二. 不要将私钥暴露给软件](#二-不要将私钥暴露给软件)
    - [三. ECC是比RSA更好的秘钥选择](#三-ecc是比rsa更好的秘钥选择)
    - [四. Secure Boot是建立可信软件的基础](#四-secure-boot是建立可信软件的基础)
    - [五. 利用基于硬件的Mesaured Boot向服务端证明成功的安全启动](#五-利用基于硬件的mesaured-boot向服务端证明成功的安全启动)
    - [六. 避免在可信计算基础环境中分析和使用X.509证书](#六-避免在可信计算基础环境中分析和使用x509证书)
    - [七. 妥善处理好服务器证书的过期](#七-妥善处理好服务器证书的过期)

## 译者声明

本文档是对微软[《Nineteen cybersecurity best practices used to implement the seven properties of highly secured devices in Azure Sphere》](https://www.microsoft.com/security/blog/2020/05/20/cybersecurity-practices-implement-secured-devices/)白皮书的**非官方**中文翻译，用于学习目的。

## 翻译的基本原则

1. 使用意译而非直译。笔者是一名工程师而非专业翻译人员，从专业翻译的角度来看一些词汇和语句的翻译可能不够严谨，但这并非我的主要关注点，本翻译项目的唯一是让其他工程师能流畅的阅读并理解其中内容。
2. 为了使译文尽量简短易读，对于原英文白皮书中重复描述同一的陈述语句会直接删减，而非逐句翻译。
3. 有些在行业内广泛使用的英文术语没有进行翻译，他们可能存在相对应的中文翻译词汇但在业界并不常见，反而使用英文会更有助于理解内容。

   英文词汇 | 缩写 | 中文含义 |
   -|-|-
   Secure Boot |  | 安全启动
   Measured Boot | | 测量启动
   Trusted Computing Base | TCB | 可信计算基础环境

## 概览

## Azure Sphere 解决方案的背景

## 十九个IoT设备安全的最佳实践

### 一. 将ROM代码视作系统里中不可更新部分并让它保持尽量简短

通常，存储在ROM中的代码是芯片复位后加载的第一段程序。由于ROM在芯片制造阶段就已经固化，它被视为为硬件的一部分。在物理上，烧录在ROM中的代码存在于硅上的某一金属层上，因此黑客不太可能去篡改或替换其中内容。这样的不可更新的特性让人们通常会认为ROM中的代码是比从Flash存储器中加载的代码更加的安全可信。

虽然ROM中的代码不容易被篡改，但同其他软件一样它也是需要被加载到CPU中来执行。黑客可以尝试使用一些特殊手段发起攻击，其中一种常见的手段则是通过使CPU产生暂时性的故障以跳过某一些关键代码段，如对数字签名的检测。一旦成功，黑客随后可以在芯片上执行自己编写的程序来操作设备的行为用于任意目的攻击。如果没有采取相应的防御措施去应对这一类型的攻击手段，那么前面我们关于“ROM代码是更安全”这一假设则是不成立的。因此要保证ROM代码的安全执行，在芯片设计时需要有应对措施，同时尽量让ROM中的代码保持简短。

以上这两点在Azure Sphere MT3620 MCU设计时都进行了充分的考虑。微软和联发科的芯片团队一起设计了相应的对策让黑客很难利用使用CPU产生短暂性的故障去跳过关键代码的执行，同时尽可能的减小了ROM代码的长度，以降低引入Bug和安全漏洞的概率。

### 二. 不要将私钥暴露给软件

### 三. ECC是比RSA更好的秘钥选择

### 四. Secure Boot是建立可信软件的基础

### 五. 利用基于硬件的Mesaured Boot向服务端证明成功的安全启动

### 六. 避免在可信计算基础环境中分析和使用X.509证书

### 七. 妥善处理好服务器证书的过期
